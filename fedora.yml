---
# Installs latest of esential packages. 
- name: install dnf packages.

  hosts:
    - localhost
  
  pretasks:
   - name: assert that we are in the expected environment. 
      assert:
        that:
          platform = fedora and release > 30. 
      fail_msg: Not a good platform. 
      success_msg: Platform validated ok moving on. 
    
  tasks:
  - name: install the needeed packages. 
      dnf: {{ item }}
      state: latest
  
      with_items:
      - jq
      - tmux
      - ack
      - task_warrior
      - npm
      - nerdfornts
      - powerline
      - powerline-fonts
      - pip 
      - python 
      - zsh
      - zsh-lovers
      - zsh-syntax-highlighting
# Calling roles to do subsequent task. 

 - name: Calling the roles.
   roles:
     role: 
      - zsh_config
      - vim_config

